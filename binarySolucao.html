<!DOCTYPE html>
<html>

<head>
    <title>Desafio BinaryGap</title>

    <link rel="stylesheet" type="text/css" href="style.css">
</head>

<body>

    <h1>Desafio BinaryGap</h1>
    <h2>Nome da Equipe:Cacetech</h2>
    <h2>RA:18137022</h2>
    <h2>RA:18286332</h2>
    <h2>Nomes:Gustavo Kenji Sumi</h2>
    <h2>      Lucas Eduardo Franca</h2>

    <table>
        <thead>
            <tr>
                <th>Digito</th>
                <th>Ação</th>
                <th>BinaryGap?</th>
            </tr>
        </thead>
        <tbody id="tbody">
            <tr>
                <td class="digito">9</td>
                <td><button>Calcula</button></td>
                <td class="binaryGap">?</td>
            </tr>
            <tr>
                <td class="digito">526</td>
                <td><button>Calcula</button></td>
                <td class="binaryGap">?</td>
            </tr>
            <tr>
                <td class="digito">20</td>
                <td><button>Calcula</button></td>
                <td class="binaryGap">?</td>
            </tr>
            <tr>
                <td class="digito">15</td>
                <td><button>Calcula</button></td>
                <td class="binaryGap">?</td>
            </tr>
            <tr>
                <td class="digito">32</td>
                <td><button>Calcula</button></td>
                <td class="binaryGap">?</td>
            </tr>
            <tr>
                <td class="digito">2031654946</td>
                <td><button>Calcula</button></td>
                <td class="binaryGap">?</td>
            </tr>
            <tr>
                <td class="digito">19</td>
                <td><button>Calcula</button></td>
                <td class="binaryGap">?</td>
            </tr>
            <tr>
                <td class="digito">42</td>
                <td><button>Calcula</button></td>
                <td class="binaryGap">?</td>
            </tr>
        </tbody>
    </table>

</body>

</html>

<script>
    let tdbody = document.querySelector("#tbody");

    function calculoBinary(binary){
        let binaryGap = 0;
        let auxiliar = 0;
        arrayBinario = binary.split('');
        arrayBinario.forEach((digito)=>{
            if(digito === '1'){
                if(auxiliar !== 0){
                    if(auxiliar > binaryGap){
                        binaryGap = auxiliar;
                    }
                    auxiliar = 0;
                }
            }else{     
                auxiliar++;              
            }
        });
        if(binaryGap !== 0){
            return binaryGap;
        }else{
            return 'Erro, não possui BINARY GAP';
        }
    }

    tdbody.addEventListener("click",(event) => {
        let elemento = event.target;
        if(elemento.tagName === 'BUTTON'){
           let tr = elemento.parentNode.parentNode;
           let td = tr.querySelector(".binaryGap");
           let digito = parseInt(tr.querySelector(".digito").innerText);
           let binary = digito.toString(2);
           td.innerText = calculoBinary(binary);
             }
        }
    );


</script>
